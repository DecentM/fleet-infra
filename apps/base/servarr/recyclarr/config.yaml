apiVersion: v1
kind: ConfigMap
metadata:
  name: recyclarr-config
  namespace: app-servarr
data:
  settings.yml: |
    # yaml-language-server: $schema=https://raw.githubusercontent.com/recyclarr/recyclarr/master/schemas/settings-schema.json

    enable_ssl_certificate_validation: true
    git_path: /usr/bin/git

  recyclarr.yml: |
    # yaml-language-server: $schema=https://raw.githubusercontent.com/recyclarr/recyclarr/master/schemas/config-schema.json
    # https://recyclarr.dev/wiki/yaml/config-reference/

    # Configuration specific to Sonarr
    sonarr:
      series:
        base_url: http://sonarr.app-servarr.svc:8989
        api_key: !env_var SERVARR_API_KEY

        # Quality definitions from the guide to sync to Sonarr. Choices: series, anime
        quality_definition:
          type: series

        delete_old_custom_formats: true

        include:
          - template: sonarr-quality-definition-anime
          - template: sonarr-v4-quality-profile-anime
          - template: sonarr-v4-custom-formats-anime
          - template: sonarr-quality-definition-series
          - template: sonarr-v4-quality-profile-web-2160p
          - template: sonarr-v4-custom-formats-web-2160p

    # Configuration specific to Radarr.
    radarr:
      movies:
        base_url: http://radarr.app-servarr.svc:7878
        api_key: !env_var SERVARR_API_KEY

        quality_definition:
          type: movie

        delete_old_custom_formats: true

        include:
          - template: radarr-quality-definition-movie
          - template: radarr-quality-profile-remux-web-2160p
          - template: radarr-custom-formats-remux-web-2160p
          - template: radarr-quality-definition-movie
          - template: radarr-quality-profile-anime
          - template: radarr-custom-formats-anime
