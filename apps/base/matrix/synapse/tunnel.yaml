apiVersion: networking.cfargotunnel.com/v1alpha1
kind: TunnelBinding
metadata:
  name: synapse-tunnel
  namespace: app-matrix
subjects:
  # Matrix Synapse
  - name: synapse
    spec:
      fqdn: matrix.borooka.ee
      protocol: http
      target: http://synapse.app-matrix.svc:8008
      originRequest:
        connectTimeout: 30s
        noHappyEyeballs: false
        tcpKeepAlive: 30s
        keepAliveTimeout: 90s
        httpHostHeader: matrix.borooka.ee
        noTLSVerify: false

tunnelRef:
  kind: ClusterTunnel
  name: cluster-tunnel-borooka
