# https://docs.paperless-ngx.com/configuration/

PAPERLESS_PORT=8000
PAPERLESS_WEBSERVER_WORKERS=1

PAPERLESS_REDIS=redis://broker:6379
PAPERLESS_URL=https://paperless-ngx.cluster.arpa
PAPERLESS_MEDIA_ROOT=/media
PAPERLESS_DATA_DIR=/data
PAPERLESS_EMPTY_TRASH_DIR=/trash

PAPERLESS_OCR_LANGUAGE=eng
PAPERLESS_OCR_LANGUAGES=eng est hun
PAPERLESS_OCR_MODE=skip
PAPERLESS_OCR_CLEAN=clean
PAPERLESS_OCR_OUTPUT_TYPE=pdfa

PAPERLESS_TASK_WORKERS=1
PAPERLESS_THREADS_PER_WORKER=2

PAPERLESS_TIME_ZONE=Europe/Tallinn
PAPERLESS_ENABLE_NLTK=1
PAPERLESS_AUDIT_LOG_ENABLED=true

PAPERLESS_TIKA_ENABLED=true
PAPERLESS_TIKA_ENDPOINT=http://tika:9998
PAPERLESS_TIKA_GOTENBERG_ENDPOINT=http://gotenberg:3000

# OIDC/SSO Configuration via Keycloak
# https://docs.paperless-ngx.com/configuration/#PAPERLESS_APPS
PAPERLESS_APPS=allauth.socialaccount.providers.openid_connect
PAPERLESS_SOCIALACCOUNT_PROVIDERS={"openid_connect":{"OAUTH_PKCE_ENABLED":true,"APPS":[{"provider_id":"keycloak","name":"Keycloak","client_id":"paperless-ngx","settings":{"server_url":"https://keycloak.cluster.arpa/realms/cluster/.well-known/openid-configuration"}}]}}
# Auto-login redirect to Keycloak
PAPERLESS_REDIRECT_LOGIN_TO_SSO=true
PAPERLESS_DISABLE_REGULAR_LOGIN=false
PAPERLESS_ACCOUNT_ALLOW_SIGNUPS=false
